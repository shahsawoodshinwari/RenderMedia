import{u as p}from"./index-D1kTy0-t.js";import{_ as d,u as h,r as u,o as s,c as i,a as t,w as f,j as _,F as c,k as b,t as v,e as k,A as C,h as x,g as S,s as w,b as F}from"./index-CGuEuORG.js";import{N as V}from"./no-bookings-found-57le8Je1.js";const L={name:"ShootingType",inject:{category:{type:String,required:!0}},data(){return{subCategories:[],notFound:V,fetchCategoryForm:p("get","/categories",{category_id:this.category}),isLoading:!0,isValid:!1,payload:{sub_category_id:"",sub_category_details:""},toast:h()}},computed:{subCategoryDetails(){return this.selectedSubCategory?this.selectedSubCategory.name.toLowerCase()=="other":!1},selectedSubCategory(){return this.subCategories.find(r=>r.id==this.payload.sub_category_id)}},mounted(){this.fetchSubCategories()},methods:{validateForm(){if(!this.payload.sub_category_id||this.subCategoryDetails&&!this.payload.sub_category_details){this.toast.error("Please fill in the required fields."),this.isValid=!1;return}this.isValid=!0},fetchSubCategories(){this.isLoading=!0,this.fetchCategoryForm.submit().then(r=>{this.subCategories=r.data.data.length>0?r.data.data[0].children:[],this.isLoading=!1})}}},N={key:0},T={class:"row gx-3 gy-4"},B={class:"col-12"},D=["value"],q={key:0,class:"col-12"},P={class:"col-12 text-center"},j={key:1},A={class:"text-center"},R=["src"],E={key:2};function I(r,e,g,y,o,n){const l=u("RouterLink");return o.subCategories.length>0&&!o.isLoading?(s(),i("div",N,[t("div",T,[t("div",B,[f(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.payload.sub_category_id=a),class:"form-select"},[e[2]||(e[2]=t("option",{value:""},"Select shoot type",-1)),(s(!0),i(c,null,b(o.subCategories,(a,m)=>(s(),i("option",{value:a.id,key:m},v(a.name),9,D))),128))],512),[[_,o.payload.sub_category_id]])]),n.subCategoryDetails?(s(),i("div",q,e[3]||(e[3]=[t("input",{type:"text",class:"form-control",placeholder:"Please describe the shoot type"},null,-1)]))):k("",!0),t("div",P,[o.isValid?(s(),C(l,{key:1,to:{name:"bookings.create.filming-location",params:{category:n.category}},class:"btn btn-primary w-50 fw-bold"},{default:x(()=>e[4]||(e[4]=[S("Next")])),_:1},8,["to"])):(s(),i("button",{key:0,onClick:e[1]||(e[1]=(...a)=>n.validateForm&&n.validateForm(...a)),class:"btn btn-primary w-50 fw-bold"},"Next"))])])])):o.isLoading?(s(),i("div",E,e[7]||(e[7]=[t("div",{class:"d-flex flex-column gap-3 placeholder-glow"},[t("div",{class:"placeholder rounded-pill py-4"})],-1)]))):(s(),i("div",j,[t("div",A,[t("img",{src:o.notFound,class:"img-fluid w-50 mb-3",alt:"No bookings found"},null,8,R),e[5]||(e[5]=t("div",{class:"fs-4 text-muted"},"Whoops",-1)),e[6]||(e[6]=t("div",{class:"fs-6 text-secondary w-75 mx-auto"}," It looks like there is something missing from the data. Please refresh and come again. ",-1))])]))}const M=d(L,[["render",I]]),U={name:"ShootingTypeView",components:{ShootingType:M},props:{category:{type:String,required:!0}},provide(){return{category:w(()=>this.category)}}};function W(r,e,g,y,o,n){const l=u("ShootingType");return s(),i(c,null,[e[0]||(e[0]=t("div",{class:"text-center mb-3"},[t("h1",{class:"fw-medium mb-3"},"Select a Shoot Type"),t("p",{class:"mb-0"},"Are you looking for the key to unlock your")],-1)),F(l)],64)}const J=d(U,[["render",W]]);export{J as default};
